---
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';

// Function to detect language from URL
const lang = Astro.url.pathname.startsWith('/id') ? 'id' : 'en';

const message = lang === 'id'
  ? "Mohon maaf, terjadi kesalahan pada sistem. Kami sedang memperbaikinya."
  : "Sorry, there's a system error. We're fixing it right now.";

// SEO variables
const pageTitle = lang === 'id'
  ? '500 | Syaiful Anam'
  : '500 | Syaiful Anam';
const pageDescription = lang === 'id'
  ? 'Error 500 - Terjadi kesalahan server internal.'
  : 'Error 500 - Internal server error occurred.';
const currentPath = Astro.url.pathname;
---

<Layout title={pageTitle} description={pageDescription} lang={lang}>
  <div class="container">
    <Header currentPath={currentPath} lang={lang} />

    <main class="main-content">
      <div class="min-h-screen flex items-center justify-center px-4">
        <div class="text-center max-w-5xl mx-auto">
          <!-- 500 Big Number -->
          <div class="text-9xl md:text-[12rem] lg:text-[15rem] font-black text-gray-200 dark:text-gray-700 leading-none mb-8">
            500
          </div>

          <!-- Message -->
          <h1 class="text-5xl md:text-6xl lg:text-7xl font-black text-gray-900 dark:text-white mb-8 leading-tight">
            {lang === 'id' ? 'Kesalahan Sistem' : 'System Error'}
          </h1>

          <!-- Message -->
          <p class="text-2xl md:text-3xl lg:text-4xl font-bold text-gray-700 dark:text-gray-200 mb-16 leading-relaxed">
            {message}
          </p>

          <!-- Refresh Button -->
          <a
            href={lang === 'id' ? '/id' : '/'}
            class="inline-block px-8 py-3 bg-black dark:bg-white text-white dark:text-black font-bold text-lg rounded-lg transition-all duration-300 hover:scale-105 hover:shadow-xl"
          >
            {lang === 'id' ? 'COBA LAGI' : 'TRY AGAIN'}
          </a>
        </div>
      </div>
    </main>

    <Footer lang={lang} />
  </div>
</Layout>

<style>
  .main-content {
    min-height: calc(100vh - 200px);
    background: transparent;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  /* Remove all backgrounds */
  body, html {
    background: transparent !important;
  }

  main {
    background: transparent !important;
  }

  /* Ensure centering */
  .container {
    width: 100%;
    max-width: none;
    padding: 0;
  }

  /* Responsive adjustments */
  @media (max-width: 768px) {
    .text-\[15rem\] {
      font-size: 8rem;
    }

    .text-7xl {
      font-size: 2.5rem;
    }

    .text-4xl {
      font-size: 1.5rem;
    }
  }
</style>